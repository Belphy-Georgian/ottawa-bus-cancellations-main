<!DOCTYPE html>
<head>    
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    
        <script>
            L_NO_TOUCH = false;
            L_DISABLE_3D = false;
        </script>
    <script src="https://d3js.org/d3.v3.js"></script>
    <script src="https://d3js.org/d3-geo-projection.v2.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/leaflet@1.6.0/dist/leaflet.js"></script>
    <script src="https://code.jquery.com/jquery-1.12.4.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js"></script>
    <script src="http://labratrevenge.com/d3-tip/javascripts/d3.tip.v0.6.3.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet@1.6.0/dist/leaflet.css"/>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap-theme.min.css"/>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css"/>
    <link rel="stylesheet" href="https://rawcdn.githack.com/python-visualization/folium/master/folium/templates/leaflet.awesome.rotate.css"/>
    <style>html, body {width: 100%;height: 100%;margin: 0;padding: 0;}</style>
    <style>#map {position:absolute;top:0;bottom:0;right:0;left:0;}</style>
    
            <meta name="viewport" content="width=device-width,
                initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
            <style>
                #map{
                    position: relative;
                    width: 1000.0px;
                    height: 700.0px;
                    left: 0.0%;
                    top: 0.0%;
                }
            </style>
        
</head>
<body>    
    
            <div class="folium-map" id="map" ></div>


        
</body>
<script>    
    
            var map = L.map(
                "map",
                {
                    center: [45.4215, -75.6972],
                    crs: L.CRS.EPSG3857,
                    zoom: 14,
                    zoomControl: true,
                    preferCanvas: false,
                }
            );
    
            var tile_layer_2569703800d14cd78c24c554abb3084c = L.tileLayer(
                "https://cartodb-basemaps-{s}.global.ssl.fastly.net/light_all/{z}/{x}/{y}.png",
                {"attribution": "\u0026copy; \u003ca href=\"http://www.openstreetmap.org/copyright\"\u003eOpenStreetMap\u003c/a\u003e contributors \u0026copy; \u003ca href=\"http://cartodb.com/attributions\"\u003eCartoDB\u003c/a\u003e, CartoDB \u003ca href =\"http://cartodb.com/attributions\"\u003eattributions\u003c/a\u003e", "detectRetina": false, "maxNativeZoom": 18, "maxZoom": 18, "minZoom": 0, "noWrap": false, "opacity": 1, "subdomains": "abc", "tms": false}
            ).addTo(map);



            // Add a svg layer to the map
            L.svg().addTo(map);

            var svg = d3.select("#map").select("svg"), /* add the svg to leaflet map */
            g = svg.append("g");

            var poly_line_0553ebedb9994f66982a4abbdb62bcef = L.polyline(
                [[45.425333, -75.689817], [45.425168, -75.690204], [45.425006, -75.690666], [45.424834, -75.691306], [45.424567, -75.691797], [45.424229, -75.692351], [45.424302, -75.692427], [45.424519, -75.692564], [45.425225, -75.693117], [45.425431, -75.693308], [45.425431, -75.693308], [45.425496, -75.693368], [45.426276, -75.694028], [45.427232, -75.694832], [45.427433, -75.694989], [45.428008, -75.695506], [45.428411, -75.695847], [45.428411, -75.695847], [45.428664, -75.696061], [45.429278, -75.696571], [45.429878, -75.697178], [45.430512, -75.697693], [45.431144, -75.698183], [45.43137, -75.698379], [45.43137, -75.698379], [45.431938, -75.698871], [45.432413, -75.699277], [45.432602, -75.699351], [45.432811, -75.699361], [45.433476, -75.699289], [45.433476, -75.699289], [45.433703, -75.699264], [45.43423, -75.699162], [45.434481, -75.699056], [45.434607, -75.699003], [45.435458, -75.69848], [45.435485, -75.698466], [45.435503, -75.698453], [45.435727, -75.698322], [45.437863, -75.696977], [45.437863, -75.696977], [45.438531, -75.696557], [45.438264, -75.695768], [45.4381, -75.695326], [45.437934, -75.694853], [45.437815, -75.694637], [45.437664, -75.694437], [45.437337, -75.694061], [45.437137, -75.693893]],
                {"bubblingMouseEvents": true, "color": "#2142c6", "dashArray": null, "dashOffset": null, "fill": false, "fillColor": "#2142c6", "fillOpacity": 0.2, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "noClip": false, "opacity": 1.0, "smoothFactor": 1.0, "stroke": true, "weight": 3}
            ).addTo(map);


            var poly_line_8f0b67fbf67142b5972ea2a3ba0d8fbc = L.polyline(
                [[45.411987, -75.667169], [45.411944, -75.667282], [45.41185, -75.667164], [45.411786, -75.667011], [45.411712, -75.666795], [45.411703, -75.666693], [45.41186, -75.664134], [45.411892, -75.66359], [45.411982, -75.662375], [45.41205, -75.661811], [45.41205, -75.661773], [45.412059, -75.661747], [45.412111, -75.661517], [45.41219, -75.661286], [45.412404, -75.660989], [45.41244, -75.660962], [45.412411, -75.660801], [45.412364, -75.660046], [45.412354, -75.65986], [45.412362, -75.659687], [45.412362, -75.659687], [45.412362, -75.659686], [45.412392, -75.659615], [45.412461, -75.659506], [45.412419, -75.659432], [45.412341, -75.659263], [45.412299, -75.659118], [45.412269, -75.658941], [45.412258, -75.658876], [45.412215, -75.658487], [45.412177, -75.658258], [45.414213, -75.657295], [45.415504, -75.656713], [45.415973, -75.656537], [45.41615, -75.656474], [45.416339, -75.656458], [45.417014, -75.656461], [45.417464, -75.656518], [45.41759, -75.656529], [45.417734, -75.656527], [45.419067, -75.65666], [45.419409, -75.656681], [45.419644, -75.656729], [45.42024, -75.657026], [45.420682, -75.657367], [45.42095, -75.65763], [45.421212, -75.658001], [45.421347, -75.658228], [45.421753, -75.659199], [45.421753, -75.659199], [45.422027, -75.659856], [45.422189, -75.660271], [45.422445, -75.660814], [45.422636, -75.661054], [45.422654, -75.661079], [45.422681, -75.661105], [45.422685, -75.661101], [45.422781, -75.661231], [45.422781, -75.661231], [45.422799, -75.661256], [45.423166, -75.661633], [45.423476, -75.661858], [45.423805, -75.661993], [45.424, -75.662067], [45.424228, -75.662118], [45.424228, -75.662118], [45.424489, -75.662177], [45.42622, -75.662611], [45.42731, -75.6628], [45.427686, -75.662868], [45.427686, -75.662868], [45.427761, -75.662882], [45.429213, -75.663367], [45.429483, -75.663458], [45.431098, -75.663932], [45.431678, -75.664066], [45.431685, -75.664068], [45.431685, -75.664068], [45.432591, -75.664387], [45.432979, -75.664573], [45.433257, -75.664731], [45.433873, -75.665188], [45.434471, -75.665777], [45.434943, -75.66636], [45.43504, -75.666495], [45.43504, -75.666495], [45.435451, -75.66707], [45.435708, -75.66748], [45.436294, -75.66858], [45.436512, -75.669097], [45.436512, -75.669097], [45.436601, -75.669309], [45.436825, -75.669909], [45.437118, -75.670818], [45.437141, -75.670925], [45.437167, -75.67105], [45.437295, -75.671534], [45.437295, -75.671534], [45.437358, -75.671775], [45.437671, -75.674048], [45.437671, -75.674048], [45.437815, -75.675099], [45.438022, -75.676423], [45.438178, -75.677292], [45.438285, -75.677609], [45.438333, -75.677718], [45.438365, -75.677769], [45.438525, -75.678011], [45.438653, -75.678354], [45.438693, -75.678546], [45.438693, -75.678546], [45.438784, -75.678978], [45.439001, -75.679993], [45.439001, -75.679993], [45.439035, -75.680151], [45.43953, -75.682511], [45.439565, -75.682679], [45.439565, -75.682679], [45.439659, -75.683133], [45.439705, -75.68326], [45.44059, -75.686174], [45.440727, -75.686623], [45.440727, -75.686623], [45.441134, -75.687962], [45.441134, -75.687962], [45.44118, -75.688109], [45.441639, -75.689577], [45.441639, -75.689577], [45.441714, -75.689814], [45.442008, -75.690781], [45.442158, -75.691267], [45.442158, -75.691267], [45.442211, -75.691443], [45.441888, -75.691639], [45.442183, -75.692594], [45.442489, -75.693553], [45.442489, -75.693553], [45.4426, -75.693903], [45.441946, -75.694279], [45.439828, -75.695691], [45.439828, -75.695691], [45.438647, -75.696479], [45.438531, -75.696557], [45.437872, -75.696972], [45.437872, -75.696972], [45.435975, -75.698165], [45.435975, -75.698165], [45.435727, -75.698322], [45.435503, -75.698453], [45.435485, -75.698466], [45.435458, -75.69848], [45.434607, -75.699003], [45.434481, -75.699056], [45.43423, -75.699162], [45.433703, -75.699264], [45.433708, -75.699009], [45.433741, -75.698721], [45.433743, -75.698713], [45.433743, -75.698713], [45.433829, -75.698477], [45.434041, -75.697924], [45.434283, -75.6973], [45.434283, -75.6973], [45.434612, -75.696453], [45.434612, -75.696453], [45.434743, -75.696116], [45.434124, -75.695584], [45.433499, -75.695082], [45.432766, -75.694466], [45.4326, -75.69432], [45.4326, -75.69432], [45.43215, -75.693925], [45.431517, -75.693398], [45.430856, -75.692832], [45.430629, -75.692631], [45.430629, -75.692631], [45.430249, -75.692291], [45.429615, -75.691763], [45.428963, -75.691213], [45.428963, -75.691213], [45.428855, -75.691122], [45.428167, -75.690519], [45.427913, -75.690318], [45.427389, -75.689909], [45.427389, -75.689909], [45.427113, -75.689693], [45.426483, -75.689124], [45.426704, -75.688541], [45.426787, -75.688312], [45.426638, -75.688269], [45.426315, -75.688106], [45.42614, -75.687998], [45.425877, -75.688595], [45.425566, -75.689283]],
                {"bubblingMouseEvents": true, "color": "#db2c29", "dashArray": null, "dashOffset": null, "fill": false, "fillColor": "#db2c29", "fillOpacity": 0.2, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "noClip": false, "opacity": 1.0, "smoothFactor": 1.0, "stroke": true, "weight": 3}
            ).addTo(map);

            // Create data for circles route:
            var markers_route = [
            {lat: 45.439879000, long: -75.695844000},
            {lat: 45.439581000, long: -75.695695000},
            {lat: 45.442868000, long: -75.693564000},
            {lat: 45.442806000, long: -75.692325000},
            {lat: 45.442562000, long: -75.693505000},
            {lat: 45.442539000, long: -75.691511000},
            {lat: 45.442231000, long: -75.691221000},
            {lat: 45.441682000, long: -75.689964000},
            {lat: 45.441715000, long: -75.689529000},
            {lat: 45.441148000, long: -75.688271000},
            {lat: 45.441173000, long: -75.687939000},
            {lat: 45.440741000, long: -75.686615000},
            {lat: 45.440399000, long: -75.685756000},
            {lat: 45.439590000, long: -75.682989000},
            {lat: 45.439650000, long: -75.682643000},
            {lat: 45.439091000, long: -75.679954000},
            {lat: 45.438893000, long: -75.679880000},
            {lat: 45.438612000, long: -75.678427000},
            {lat: 45.438766000, long: -75.678514000},
            {lat: 45.437735000, long: -75.674030000},
            {lat: 45.437481000, long: -75.673855000},
            {lat: 45.437316000, long: -75.671523000},
            {lat: 45.437155000, long: -75.671594000},
            {lat: 45.436563000, long: -75.669052000},
            {lat: 45.436553000, long: -75.669601000},
            {lat: 45.435088000, long: -75.666426000},
            {lat: 45.420935000, long: -75.658073000},
            {lat: 45.421816000, long: -75.659146000},
            {lat: 45.422590000, long: -75.661348000},
            {lat: 45.422810000, long: -75.661190000},
            {lat: 45.424367000, long: -75.662375000},
            {lat: 45.424239000, long: -75.662023000},
            {lat: 45.426946000, long: -75.662967000},
            {lat: 45.427700000, long: -75.662713000},
            {lat: 45.430454000, long: -75.664027000},
            {lat: 45.431696000, long: -75.664009000},
            {lat: 45.431716000, long: -75.664354000},
            {lat: 45.433994000, long: -75.665752000},
            {lat: 45.412351000, long: -75.658982000},
            {lat: 45.412308000, long: -75.659683000},
            {lat: 45.412144000, long: -75.665557000},
            {lat: 45.412042000, long: -75.667212000},
            {lat: 45.430580000, long: -75.692743000},
            {lat: 45.428949000, long: -75.691245000},
            {lat: 45.427348000, long: -75.690016000},
            {lat: 45.433645000, long: -75.698642000},
            {lat: 45.434193000, long: -75.697228000},
            {lat: 45.434520000, long: -75.696380000},
            {lat: 45.432571000, long: -75.694388000},
            {lat: 45.437909000, long: -75.697090000},
            {lat: 45.437839000, long: -75.696899000},
            {lat: 45.438803000, long: -75.696078000},
            {lat: 45.436025000, long: -75.698326000},
            {lat: 45.433468000, long: -75.699130000},
            {lat: 45.431400000, long: -75.698308000},
            {lat: 45.428971000, long: -75.696127000},
            {lat: 45.437073000, long: -75.694046000},
            {lat: 45.425640000, long: -75.689350000},
            {lat: 45.425470000, long: -75.689732000},
            {lat: 45.425447000, long: -75.693272000},
            ];

            // Create data for circles:
            var markers_cancel = [
                {lat: 45.412144, long: -75.665557},
                {lat: 45.437839, long: -75.696899},
                {lat: 45.412144, long: -75.665557},
                {lat: 45.425702, long: -75.689152},
                {lat: 45.425702, long: -75.689152},
            ];

            // Select the svg area and add circles:
            d3.select("#map")
              .select("svg")
              .selectAll("myCircles")
              .data(markers_route)
              .enter()
              .append("circle")
                .attr("cx", function(d){ return map.latLngToLayerPoint([d.lat, d.long]).x })
                .attr("cy", function(d){ return map.latLngToLayerPoint([d.lat, d.long]).y })
                .attr("r", 6)
                .style("fill", "blue")
                .attr("stroke", "blue")
                .attr("stroke-width", 3)
                .attr("fill-opacity", .4);




            // Select the svg area and add circles:
            d3.select("#map")
              .select("svg")
              .selectAll("myCircles")
              .data(markers_cancel)
              .enter()
              .append("circle")
                .attr("cx", function(d){ return map.latLngToLayerPoint([d.lat, d.long]).x })
                .attr("cy", function(d){ return map.latLngToLayerPoint([d.lat, d.long]).y })
                .attr("r", 6)
                .style("fill", "red")
                .attr("stroke", "red")
                .attr("stroke-width", 3)
                .attr("fill-opacity", .4)


             // Function that update circle position if something change
                function update() {
                  d3.selectAll("circle")
                    .attr("cx", function(d){ return map.latLngToLayerPoint([d.lat, d.long]).x })
                    .attr("cy", function(d){ return map.latLngToLayerPoint([d.lat, d.long]).y })
                }

            // If the user change the map (zoom or drag), I update circle position:
            map.on("moveend", update)


</script>